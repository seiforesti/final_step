graph TB
    %% ========================================================================
    %% DATAWAVE DATA GOVERNANCE SYSTEM - ADVANCED DEPLOYMENT ARCHITECTURE
    %% ========================================================================
    
    %% Internet & External Access
    subgraph INTERNET["ğŸŒ INTERNET & EXTERNAL ACCESS"]
        direction TB
        USERS["ğŸ‘¥ End Users<br/>â”œâ”€ Data Stewards<br/>â”œâ”€ Data Engineers<br/>â”œâ”€ Compliance Officers<br/>â”œâ”€ Business Analysts<br/>â””â”€ System Administrators"]
        EXTERNAL_SYSTEMS["ğŸ”— External Systems<br/>â”œâ”€ Third-party APIs<br/>â”œâ”€ Partner Systems<br/>â”œâ”€ Legacy Applications<br/>â”œâ”€ Data Providers<br/>â””â”€ Regulatory Systems"]
    end
    
    %% Azure Cloud Environment
    subgraph AZURE_CLOUD["â˜ï¸ MICROSOFT AZURE CLOUD ENVIRONMENT"]
        direction TB
        
        %% Traffic Management & Security Layer
        subgraph TRAFFIC_MGT["ğŸ›¡ï¸ TRAFFIC MANAGEMENT & SECURITY LAYER"]
            direction TB
            subgraph CDN_LAYER["Content Delivery Network"]
                AZURE_CDN["ğŸŒ Azure CDN<br/>â”œâ”€ Global Edge Locations<br/>â”œâ”€ Static Asset Caching<br/>â”œâ”€ SSL/TLS Termination<br/>â”œâ”€ DDoS Protection<br/>â””â”€ Geographic Load Balancing<br/><br/>ğŸ“Š Performance:<br/>â”œâ”€ 99.99% Availability<br/>â”œâ”€ <100ms Latency<br/>â””â”€ 10Gbps Bandwidth"]
            end
            
            subgraph WAF_LAYER["Web Application Firewall"]
                APP_GATEWAY["ğŸ” Azure Application Gateway<br/>â”œâ”€ Web Application Firewall (WAF)<br/>â”œâ”€ SSL Certificate Management<br/>â”œâ”€ URL-based Routing<br/>â”œâ”€ Session Affinity<br/>â”œâ”€ Auto-scaling (2-10 instances)<br/>â””â”€ Health Probes<br/><br/>ğŸ”§ Configuration:<br/>â”œâ”€ Standard_v2 SKU<br/>â”œâ”€ OWASP Core Rule Set<br/>â””â”€ Custom Security Rules"]
            end
            
            subgraph LOAD_BALANCER["Load Balancing"]
                AZURE_LB["âš–ï¸ Azure Load Balancer<br/>â”œâ”€ Layer 4 Load Balancing<br/>â”œâ”€ High Availability Ports<br/>â”œâ”€ Outbound NAT Rules<br/>â”œâ”€ Health Monitoring<br/>â””â”€ Cross-region Failover<br/><br/>ğŸ“ˆ Specifications:<br/>â”œâ”€ Standard SKU<br/>â”œâ”€ Zone Redundant<br/>â””â”€ 99.99% SLA"]
            end
        end
        
        %% Container Orchestration Platform
        subgraph AKS_CLUSTER["ğŸš¢ AZURE KUBERNETES SERVICE (AKS) CLUSTER"]
            direction TB
            
            %% Cluster Configuration
            subgraph CLUSTER_CONFIG["Cluster Configuration"]
                AKS_CONTROL["ğŸ›ï¸ AKS Control Plane<br/>â”œâ”€ Kubernetes v1.28<br/>â”œâ”€ 3 Master Nodes (Managed)<br/>â”œâ”€ RBAC Enabled<br/>â”œâ”€ Network Policy: Calico<br/>â”œâ”€ Auto-scaling: Enabled<br/>â””â”€ Monitoring: Container Insights<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Azure AD Integration<br/>â”œâ”€ Pod Identity<br/>â””â”€ Secret Store CSI Driver"]
            end
            
            %% Node Pools
            subgraph NODE_POOLS["Node Pool Architecture"]
                SYSTEM_POOL["ğŸ–¥ï¸ System Node Pool<br/>â”œâ”€ VM Size: Standard_D4s_v3<br/>â”œâ”€ Node Count: 3-5 (Auto-scale)<br/>â”œâ”€ OS Disk: 128GB Premium SSD<br/>â”œâ”€ Taint: CriticalAddonsOnly<br/>â””â”€ Purpose: System Components<br/><br/>ğŸ’¾ Resources per Node:<br/>â”œâ”€ 4 vCPUs<br/>â”œâ”€ 16GB RAM<br/>â””â”€ 100Gbps Network"]
                
                APPLICATION_POOL["ğŸš€ Application Node Pool<br/>â”œâ”€ VM Size: Standard_D8s_v3<br/>â”œâ”€ Node Count: 5-15 (Auto-scale)<br/>â”œâ”€ OS Disk: 256GB Premium SSD<br/>â”œâ”€ Purpose: Application Workloads<br/>â””â”€ Spot Instances: 30% for dev<br/><br/>ğŸ’¾ Resources per Node:<br/>â”œâ”€ 8 vCPUs<br/>â”œâ”€ 32GB RAM<br/>â””â”€ 100Gbps Network"]
                
                AI_POOL["ğŸ§  AI/ML Node Pool<br/>â”œâ”€ VM Size: Standard_NC6s_v3<br/>â”œâ”€ Node Count: 2-8 (Auto-scale)<br/>â”œâ”€ GPU: NVIDIA V100<br/>â”œâ”€ Purpose: AI/ML Workloads<br/>â””â”€ Preemptible: Cost Optimization<br/><br/>ğŸ”¥ Specialized Resources:<br/>â”œâ”€ 6 vCPUs + GPU<br/>â”œâ”€ 112GB RAM<br/>â””â”€ NVMe SSD Cache"]
            end
            
            %% Ingress Layer
            subgraph INGRESS_LAYER["ğŸšª INGRESS LAYER"]
                NGINX_INGRESS["ğŸŒ NGINX Ingress Controller<br/>â”œâ”€ Replicas: 3 (HA Configuration)<br/>â”œâ”€ SSL/TLS Termination<br/>â”œâ”€ Rate Limiting: 1000 req/min<br/>â”œâ”€ Request Routing<br/>â”œâ”€ WebSocket Support<br/>â””â”€ Sticky Sessions<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU: 500m per replica<br/>â”œâ”€ Memory: 512Mi per replica<br/>â””â”€ Network: Dedicated Load Balancer"]
            end
            
            %% Frontend Tier
            subgraph FRONTEND_TIER["ğŸ–¥ï¸ FRONTEND PRESENTATION TIER"]
                direction TB
                REACT_PODS["âš›ï¸ React Application Pods<br/>â”œâ”€ Replicas: 6 (2 per AZ)<br/>â”œâ”€ Container: nginx:alpine<br/>â”œâ”€ Static Assets: Optimized<br/>â”œâ”€ PWA: Enabled<br/>â”œâ”€ Service Worker: Caching<br/>â””â”€ Auto-scaling: HPA Enabled<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 100m<br/>â”œâ”€ CPU Limit: 200m<br/>â”œâ”€ Memory Request: 128Mi<br/>â”œâ”€ Memory Limit: 256Mi<br/>â””â”€ Storage: 1Gi EmptyDir"]
                
                WEBSOCKET_PODS["ğŸ”Œ WebSocket Service Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Real-time Communication<br/>â”œâ”€ Connection Pooling<br/>â”œâ”€ Message Broadcasting<br/>â”œâ”€ Session Persistence<br/>â””â”€ Auto-scaling: Custom Metrics<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 200m<br/>â”œâ”€ CPU Limit: 500m<br/>â”œâ”€ Memory Request: 256Mi<br/>â”œâ”€ Memory Limit: 512Mi<br/>â””â”€ Connections: 10k per pod"]
            end
            
            %% API Gateway Tier
            subgraph API_GATEWAY_TIER["ğŸšª API GATEWAY TIER"]
                FASTAPI_PODS["âš¡ FastAPI Gateway Pods<br/>â”œâ”€ Replicas: 6 (2 per AZ)<br/>â”œâ”€ Request Routing & Load Balancing<br/>â”œâ”€ Authentication Middleware<br/>â”œâ”€ Rate Limiting: Redis-based<br/>â”œâ”€ Circuit Breaker: Hystrix<br/>â”œâ”€ API Versioning<br/>â””â”€ Request/Response Transformation<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ Throughput: 5k req/sec"]
            end
            
            %% Racine Main Manager Tier
            subgraph RACINE_TIER["ğŸ‘‘ RACINE MAIN MANAGER TIER"]
                direction TB
                ORCHESTRATION_PODS["ğŸ¯ Master Orchestration Pods<br/>â”œâ”€ Replicas: 4 (Leader Election)<br/>â”œâ”€ Cross-Service Coordination<br/>â”œâ”€ Workflow Management<br/>â”œâ”€ Resource Allocation<br/>â”œâ”€ Event Distribution<br/>â”œâ”€ Service Discovery<br/>â””â”€ Health Monitoring<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 1000m<br/>â”œâ”€ CPU Limit: 2000m<br/>â”œâ”€ Memory Request: 2Gi<br/>â”œâ”€ Memory Limit: 4Gi<br/>â””â”€ Storage: 10Gi Persistent"]
                
                WORKSPACE_PODS["ğŸ¢ Workspace Manager Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Multi-Tenant Isolation<br/>â”œâ”€ Resource Provisioning<br/>â”œâ”€ Access Control Integration<br/>â”œâ”€ Environment Management<br/>â”œâ”€ Quota Management<br/>â””â”€ Workspace Analytics<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ Storage: 5Gi Persistent"]
                
                WORKFLOW_PODS["âš™ï¸ Workflow Engine Pods<br/>â”œâ”€ Replicas: 6<br/>â”œâ”€ DAG Execution Engine<br/>â”œâ”€ Task Scheduling<br/>â”œâ”€ Dependency Management<br/>â”œâ”€ Error Recovery<br/>â”œâ”€ Parallel Processing<br/>â””â”€ Workflow Templates<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 1000m<br/>â”œâ”€ CPU Limit: 2000m<br/>â”œâ”€ Memory Request: 2Gi<br/>â”œâ”€ Memory Limit: 4Gi<br/>â””â”€ Storage: 20Gi Persistent"]
                
                PIPELINE_PODS["ğŸš€ Pipeline Optimizer Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ AI-Driven Optimization<br/>â”œâ”€ Performance Analysis<br/>â”œâ”€ Cost Optimization<br/>â”œâ”€ Bottleneck Detection<br/>â”œâ”€ Resource Scaling<br/>â””â”€ Predictive Analytics<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 1500m<br/>â”œâ”€ CPU Limit: 3000m<br/>â”œâ”€ Memory Request: 4Gi<br/>â”œâ”€ Memory Limit: 8Gi<br/>â””â”€ GPU: Optional V100"]
                
                AI_ASSISTANT_PODS["ğŸ§  AI Assistant Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Natural Language Processing<br/>â”œâ”€ Recommendation Engine<br/>â”œâ”€ Pattern Recognition<br/>â”œâ”€ Automated Insights<br/>â”œâ”€ Context Analysis<br/>â”œâ”€ ML Model Serving<br/>â””â”€ Knowledge Graph<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 2000m<br/>â”œâ”€ CPU Limit: 4000m<br/>â”œâ”€ Memory Request: 8Gi<br/>â”œâ”€ Memory Limit: 16Gi<br/>â””â”€ GPU: NVIDIA V100"]
                
                COLLABORATION_PODS["ğŸ‘¥ Collaboration Hub Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Real-time Collaboration<br/>â”œâ”€ Document Sharing<br/>â”œâ”€ Team Communication<br/>â”œâ”€ Version Control<br/>â”œâ”€ Review Workflows<br/>â”œâ”€ Activity Feeds<br/>â””â”€ Notification System<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ WebSocket Connections"]
                
                DASHBOARD_PODS["ğŸ“ˆ Dashboard Engine Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Real-time Analytics<br/>â”œâ”€ Custom Visualizations<br/>â”œâ”€ KPI Monitoring<br/>â”œâ”€ Executive Reporting<br/>â”œâ”€ Alert Management<br/>â”œâ”€ Data Aggregation<br/>â””â”€ Export Services<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ Cache: Redis Integration"]
                
                ACTIVITY_PODS["ğŸ“‹ Activity Tracker Pods<br/>â”œâ”€ Replicas: 3<br/>â”œâ”€ Comprehensive Audit Trail<br/>â”œâ”€ User Behavior Analytics<br/>â”œâ”€ System Performance Metrics<br/>â”œâ”€ Compliance Monitoring<br/>â”œâ”€ Change Detection<br/>â”œâ”€ Event Streaming<br/>â””â”€ Log Aggregation<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 300m<br/>â”œâ”€ CPU Limit: 500m<br/>â”œâ”€ Memory Request: 512Mi<br/>â”œâ”€ Memory Limit: 1Gi<br/>â””â”€ Storage: 50Gi Logs"]
                
                INTEGRATION_PODS["ğŸ”Œ Integration Manager Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ External System Integration<br/>â”œâ”€ API Management<br/>â”œâ”€ Data Synchronization<br/>â”œâ”€ Protocol Translation<br/>â”œâ”€ Connection Pooling<br/>â”œâ”€ Message Queuing<br/>â””â”€ ETL Processing<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ Network: High Bandwidth"]
            end
            
            %% Core Business Services Tier
            subgraph CORE_SERVICES_TIER["ğŸ—ï¸ CORE BUSINESS SERVICES TIER"]
                direction TB
                AUTH_PODS["ğŸ”’ Authentication Service Pods<br/>â”œâ”€ Replicas: 6<br/>â”œâ”€ User Management<br/>â”œâ”€ Session Handling<br/>â”œâ”€ MFA Support<br/>â”œâ”€ SSO Integration<br/>â”œâ”€ Password Policies<br/>â”œâ”€ Token Management<br/>â””â”€ Security Auditing<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 300m<br/>â”œâ”€ CPU Limit: 500m<br/>â”œâ”€ Memory Request: 512Mi<br/>â”œâ”€ Memory Limit: 1Gi<br/>â””â”€ Cache: Redis Sessions"]
                
                RBAC_PODS["ğŸ—ï¸ RBAC Service Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Role-Based Access Control<br/>â”œâ”€ Permission Management<br/>â”œâ”€ Policy Enforcement<br/>â”œâ”€ Hierarchical Roles<br/>â”œâ”€ Dynamic Authorization<br/>â”œâ”€ Audit Trail<br/>â””â”€ Policy Engine<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 300m<br/>â”œâ”€ CPU Limit: 500m<br/>â”œâ”€ Memory Request: 512Mi<br/>â”œâ”€ Memory Limit: 1Gi<br/>â””â”€ Policy Cache: Redis"]
                
                DATA_SOURCE_PODS["ğŸ’¾ Data Source Service Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Connection Management<br/>â”œâ”€ Schema Discovery<br/>â”œâ”€ Health Monitoring<br/>â”œâ”€ Performance Optimization<br/>â”œâ”€ Metadata Extraction<br/>â”œâ”€ Connection Pooling<br/>â””â”€ Driver Management<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ Connections: 1k per pod"]
                
                SCAN_PODS["ğŸ” Scan Service Pods<br/>â”œâ”€ Replicas: 6<br/>â”œâ”€ Data Scanning Engine<br/>â”œâ”€ Schema Analysis<br/>â”œâ”€ Data Profiling<br/>â”œâ”€ Quality Assessment<br/>â”œâ”€ Anomaly Detection<br/>â”œâ”€ Parallel Processing<br/>â””â”€ Result Aggregation<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 1000m<br/>â”œâ”€ CPU Limit: 2000m<br/>â”œâ”€ Memory Request: 2Gi<br/>â”œâ”€ Memory Limit: 4Gi<br/>â””â”€ Storage: Temporary Data"]
                
                CLASSIFICATION_PODS["ğŸ”– Classification Service Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ AI-Powered Classification<br/>â”œâ”€ Pattern Matching<br/>â”œâ”€ Sensitivity Detection<br/>â”œâ”€ Auto-Tagging<br/>â”œâ”€ Custom Rules<br/>â”œâ”€ ML Model Inference<br/>â””â”€ Confidence Scoring<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 1000m<br/>â”œâ”€ CPU Limit: 2000m<br/>â”œâ”€ Memory Request: 2Gi<br/>â”œâ”€ Memory Limit: 4Gi<br/>â””â”€ ML Models: Cached"]
                
                COMPLIANCE_PODS["ğŸ“Š Compliance Service Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Regulatory Validation<br/>â”œâ”€ Policy Enforcement<br/>â”œâ”€ Risk Assessment<br/>â”œâ”€ Audit Reporting<br/>â”œâ”€ Violation Detection<br/>â”œâ”€ Compliance Scoring<br/>â””â”€ Regulatory Updates<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ Rules Engine: Cached"]
                
                CATALOG_PODS["ğŸ“– Catalog Service Pods<br/>â”œâ”€ Replicas: 4<br/>â”œâ”€ Metadata Management<br/>â”œâ”€ Data Lineage Tracking<br/>â”œâ”€ Asset Discovery<br/>â”œâ”€ Relationship Mapping<br/>â”œâ”€ Search & Browse<br/>â”œâ”€ Index Management<br/>â””â”€ Graph Processing<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 500m<br/>â”œâ”€ CPU Limit: 1000m<br/>â”œâ”€ Memory Request: 1Gi<br/>â”œâ”€ Memory Limit: 2Gi<br/>â””â”€ Search Index: Elasticsearch"]
            end
            
            %% Data & Cache Layer
            subgraph DATA_CACHE_LAYER["ğŸ’¾ DATA & CACHE LAYER"]
                direction TB
                POSTGRES_PRIMARY["ğŸ˜ PostgreSQL Primary<br/>â”œâ”€ Version: 15.3<br/>â”œâ”€ High Availability: Enabled<br/>â”œâ”€ Backup: Automated Daily<br/>â”œâ”€ Point-in-time Recovery<br/>â”œâ”€ Connection Pooling: PgBouncer<br/>â”œâ”€ Monitoring: pg_stat_statements<br/>â””â”€ Encryption: TLS + at-rest<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 4000m<br/>â”œâ”€ Memory Request: 16Gi<br/>â”œâ”€ Storage: 2TB Premium SSD<br/>â””â”€ IOPS: 20,000"]
                
                POSTGRES_REPLICAS["ğŸ˜ PostgreSQL Read Replicas<br/>â”œâ”€ Replicas: 3 (Multi-AZ)<br/>â”œâ”€ Streaming Replication<br/>â”œâ”€ Load Balancing: Read Queries<br/>â”œâ”€ Failover: Automatic<br/>â”œâ”€ Lag Monitoring: <1sec<br/>â”œâ”€ Analytics Workloads<br/>â””â”€ Disaster Recovery<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 2000m<br/>â”œâ”€ Memory Request: 8Gi<br/>â”œâ”€ Storage: 2TB Premium SSD<br/>â””â”€ Cross-region: Available"]
                
                REDIS_CLUSTER["ğŸ”´ Redis Cluster<br/>â”œâ”€ Topology: 6 nodes (3 masters)<br/>â”œâ”€ High Availability: Sentinel<br/>â”œâ”€ Persistence: RDB + AOF<br/>â”œâ”€ Memory Policy: allkeys-lru<br/>â”œâ”€ Clustering: Enabled<br/>â”œâ”€ SSL/TLS: Enabled<br/>â””â”€ Monitoring: Redis Insights<br/><br/>ğŸ“Š Resource Allocation:<br/>â”œâ”€ CPU Request: 1000m per node<br/>â”œâ”€ Memory Request: 4Gi per node<br/>â”œâ”€ Storage: 100Gi Premium SSD<br/>â””â”€ Network: 10Gbps"]
            end
            
            %% Storage Layer
            subgraph STORAGE_LAYER["ğŸ—„ï¸ PERSISTENT STORAGE LAYER"]
                direction TB
                PVC_POSTGRES["ğŸ’½ PostgreSQL PVCs<br/>â”œâ”€ Storage Class: Premium SSD<br/>â”œâ”€ Size: 2TB per instance<br/>â”œâ”€ Replication: 3x<br/>â”œâ”€ Backup: Automated<br/>â”œâ”€ Encryption: AES-256<br/>â”œâ”€ Snapshot: Daily<br/>â””â”€ Performance: 20k IOPS"]
                
                PVC_REDIS["ğŸ’½ Redis PVCs<br/>â”œâ”€ Storage Class: Premium SSD<br/>â”œâ”€ Size: 100Gi per node<br/>â”œâ”€ Replication: 3x<br/>â”œâ”€ Persistence: RDB + AOF<br/>â”œâ”€ Encryption: AES-256<br/>â””â”€ Performance: 5k IOPS"]
                
                PVC_LOGS["ğŸ“ Logging PVCs<br/>â”œâ”€ Storage Class: Standard SSD<br/>â”œâ”€ Size: 500Gi<br/>â”œâ”€ Retention: 90 days<br/>â”œâ”€ Compression: Enabled<br/>â”œâ”€ Rotation: Daily<br/>â””â”€ Archive: Cold Storage"]
                
                PVC_TEMP["ğŸ”„ Temporary PVCs<br/>â”œâ”€ Storage Class: Premium SSD<br/>â”œâ”€ Size: 1TB<br/>â”œâ”€ Purpose: Processing Cache<br/>â”œâ”€ Lifecycle: Ephemeral<br/>â”œâ”€ Performance: High IOPS<br/>â””â”€ Auto-cleanup: Enabled"]
            end
        end
        
        %% Managed Azure Services
        subgraph AZURE_MANAGED["ğŸ”§ AZURE MANAGED SERVICES"]
            direction TB
            
            subgraph DATABASE_SERVICES["Database Services"]
                AZURE_POSTGRES["ğŸ˜ Azure Database for PostgreSQL<br/>â”œâ”€ Service Tier: Flexible Server<br/>â”œâ”€ Compute: General Purpose<br/>â”œâ”€ vCores: 8 (Burstable to 32)<br/>â”œâ”€ Memory: 32GB<br/>â”œâ”€ Storage: 2TB (Auto-grow)<br/>â”œâ”€ Backup Retention: 35 days<br/>â”œâ”€ High Availability: Zone Redundant<br/>â”œâ”€ SSL: Required<br/>â””â”€ Point-in-time Recovery: Enabled<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Read Replicas: 5 max<br/>â”œâ”€ Connection Pooling: PgBouncer<br/>â”œâ”€ Query Performance Insights<br/>â”œâ”€ Intelligent Performance<br/>â””â”€ Advanced Threat Protection"]
                
                AZURE_REDIS["ğŸ”´ Azure Cache for Redis<br/>â”œâ”€ Service Tier: Premium P3<br/>â”œâ”€ Memory: 26GB<br/>â”œâ”€ Clustering: Enabled (10 shards)<br/>â”œâ”€ Persistence: RDB + AOF<br/>â”œâ”€ Geo-replication: Available<br/>â”œâ”€ SSL: Required<br/>â”œâ”€ VNet Integration: Enabled<br/>â””â”€ Zone Redundancy: Enabled<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Redis Modules: RedisSearch<br/>â”œâ”€ Import/Export: Supported<br/>â”œâ”€ Scheduled Patching<br/>â”œâ”€ Advanced Monitoring<br/>â””â”€ Private Endpoint"]
            end
            
            subgraph STORAGE_SERVICES["Storage Services"]
                BLOB_STORAGE["â˜ï¸ Azure Blob Storage<br/>â”œâ”€ Account Type: StorageV2<br/>â”œâ”€ Performance: Standard<br/>â”œâ”€ Replication: GRS (Geo-redundant)<br/>â”œâ”€ Access Tiers: Hot/Cool/Archive<br/>â”œâ”€ Capacity: 100TB<br/>â”œâ”€ Encryption: Customer-managed keys<br/>â”œâ”€ Lifecycle Management: Enabled<br/>â”œâ”€ Soft Delete: 30 days<br/>â””â”€ Versioning: Enabled<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Private Endpoints<br/>â”œâ”€ Immutable Blobs<br/>â”œâ”€ Change Feed<br/>â”œâ”€ Point-in-time Restore<br/>â””â”€ Advanced Threat Protection"]
                
                FILE_STORAGE["ğŸ“ Azure Files<br/>â”œâ”€ Service Tier: Premium<br/>â”œâ”€ Protocol: SMB 3.0 + NFS 4.1<br/>â”œâ”€ Capacity: 10TB<br/>â”œâ”€ Performance: 10k IOPS<br/>â”œâ”€ Throughput: 1GB/s<br/>â”œâ”€ Backup: Azure Backup<br/>â”œâ”€ Encryption: AES-256<br/>â”œâ”€ Access Control: RBAC + ACLs<br/>â””â”€ Sync: Azure File Sync<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Private Endpoints<br/>â”œâ”€ Snapshot: Manual + Automated<br/>â”œâ”€ Soft Delete: 14 days<br/>â”œâ”€ Large File Shares<br/>â””â”€ Multi-region Access"]
            end
            
            subgraph CONTAINER_SERVICES["Container Services"]
                ACR["ğŸ³ Azure Container Registry<br/>â”œâ”€ Service Tier: Premium<br/>â”œâ”€ Geo-replication: 3 regions<br/>â”œâ”€ Webhook: Enabled<br/>â”œâ”€ Content Trust: Enabled<br/>â”œâ”€ Vulnerability Scanning: Enabled<br/>â”œâ”€ Helm Chart Support<br/>â”œâ”€ OCI Artifact Support<br/>â”œâ”€ Private Endpoints<br/>â””â”€ Customer-managed Keys<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Image Quarantine<br/>â”œâ”€ Retention Policies<br/>â”œâ”€ Build Tasks (ACR Tasks)<br/>â”œâ”€ Multi-architecture Images<br/>â””â”€ Token Authentication"]
            end
            
            subgraph SECURITY_SERVICES["Security Services"]
                KEY_VAULT["ğŸ” Azure Key Vault<br/>â”œâ”€ Service Tier: Premium<br/>â”œâ”€ HSM: Dedicated HSM Pool<br/>â”œâ”€ Secrets: 10k limit<br/>â”œâ”€ Certificates: Auto-renewal<br/>â”œâ”€ Keys: RSA 4096 + ECC<br/>â”œâ”€ Access Policies: RBAC<br/>â”œâ”€ Soft Delete: 90 days<br/>â”œâ”€ Purge Protection: Enabled<br/>â””â”€ Private Endpoints<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Certificate Transparency<br/>â”œâ”€ Backup & Restore<br/>â”œâ”€ Key Rotation Automation<br/>â”œâ”€ Multi-region Replication<br/>â””â”€ Compliance: FIPS 140-2"]
                
                AZURE_AD["ğŸ”‘ Azure Active Directory<br/>â”œâ”€ Edition: Premium P2<br/>â”œâ”€ Users: 10k+ Enterprise Users<br/>â”œâ”€ Groups: Dynamic + Security<br/>â”œâ”€ Conditional Access: Enabled<br/>â”œâ”€ MFA: Enforced<br/>â”œâ”€ Identity Protection: Enabled<br/>â”œâ”€ Privileged Identity Management<br/>â”œâ”€ Access Reviews: Quarterly<br/>â””â”€ B2B/B2C: Supported<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Single Sign-On (SSO)<br/>â”œâ”€ SAML/OAuth/OpenID<br/>â”œâ”€ Application Proxy<br/>â”œâ”€ Device Management<br/>â””â”€ Risk-based Policies"]
            end
            
            subgraph MONITORING_SERVICES["Monitoring & Observability"]
                AZURE_MONITOR["ğŸ“Š Azure Monitor<br/>â”œâ”€ Metrics: Custom + Platform<br/>â”œâ”€ Logs: 2TB/month retention<br/>â”œâ”€ Alerts: 1000+ rules<br/>â”œâ”€ Dashboards: Executive + Technical<br/>â”œâ”€ Workbooks: Interactive Analysis<br/>â”œâ”€ Action Groups: Multi-channel<br/>â”œâ”€ Service Map: Dependency Mapping<br/>â”œâ”€ Network Performance Monitor<br/>â””â”€ Application Change Analysis<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Cross-resource Queries<br/>â”œâ”€ Scheduled Query Rules<br/>â”œâ”€ Metric Alerts<br/>â”œâ”€ Log Analytics Workspace<br/>â””â”€ Data Export"]
                
                APP_INSIGHTS["ğŸ” Application Insights<br/>â”œâ”€ Sampling: Adaptive<br/>â”œâ”€ Telemetry: Distributed Tracing<br/>â”œâ”€ Performance: APM<br/>â”œâ”€ Availability: Multi-step Tests<br/>â”œâ”€ User Analytics: Behavior Flow<br/>â”œâ”€ Live Metrics: Real-time<br/>â”œâ”€ Profiler: CPU + Memory<br/>â”œâ”€ Snapshot Debugger<br/>â””â”€ Smart Detection: AI-powered<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Custom Events & Metrics<br/>â”œâ”€ Dependency Tracking<br/>â”œâ”€ Exception Tracking<br/>â”œâ”€ Performance Counters<br/>â””â”€ Continuous Export"]
                
                LOG_ANALYTICS["ğŸ“ Log Analytics Workspace<br/>â”œâ”€ Data Retention: 2 years<br/>â”œâ”€ Daily Ingestion: 100GB<br/>â”œâ”€ Query Language: KQL<br/>â”œâ”€ Saved Queries: 500+<br/>â”œâ”€ Functions: Custom<br/>â”œâ”€ Alerts: Log-based<br/>â”œâ”€ Data Export: Continuous<br/>â”œâ”€ API Access: REST<br/>â””â”€ Cross-workspace Queries<br/><br/>ğŸ”§ Features:<br/>â”œâ”€ Machine Learning: Anomaly Detection<br/>â”œâ”€ Workbooks: Interactive<br/>â”œâ”€ Data Connectors: 200+<br/>â”œâ”€ SIEM Integration<br/>â””â”€ Compliance Reporting"]
            end
        end
        
        %% External Integration Services
        subgraph EXTERNAL_INTEGRATIONS["ğŸ”— EXTERNAL INTEGRATION SERVICES"]
            direction TB
            
            subgraph AZURE_DATA_SERVICES["Azure Data Platform Services"]
                AZURE_PURVIEW["ğŸ” Azure Purview<br/>â”œâ”€ Data Map: Automated Discovery<br/>â”œâ”€ Data Catalog: Business Glossary<br/>â”œâ”€ Data Insights: Usage Analytics<br/>â”œâ”€ Lineage: End-to-end Tracking<br/>â”œâ”€ Classification: Automated<br/>â”œâ”€ Sensitivity Labels: Microsoft 365<br/>â”œâ”€ Data Estate Insights<br/>â”œâ”€ Compliance Dashboard<br/>â””â”€ API Integration<br/><br/>ğŸ”§ Integration Features:<br/>â”œâ”€ REST API: Full Coverage<br/>â”œâ”€ Event Grid: Change Notifications<br/>â”œâ”€ PowerBI: Native Integration<br/>â”œâ”€ Synapse: Data Lineage<br/>â””â”€ Data Factory: Automated Scanning"]
                
                AZURE_DATABRICKS["âš¡ Azure Databricks<br/>â”œâ”€ Runtime: 11.3 LTS ML<br/>â”œâ”€ Cluster: Multi-node Auto-scaling<br/>â”œâ”€ Notebooks: Collaborative<br/>â”œâ”€ Jobs: Scheduled + Event-driven<br/>â”œâ”€ MLflow: Model Management<br/>â”œâ”€ Delta Lake: ACID Transactions<br/>â”œâ”€ Unity Catalog: Data Governance<br/>â”œâ”€ Security: Private Link<br/>â””â”€ Monitoring: Ganglia + Spark UI<br/><br/>ğŸ”§ Compute Configuration:<br/>â”œâ”€ Driver: Standard_D4s_v3<br/>â”œâ”€ Workers: 2-20 Standard_D4s_v3<br/>â”œâ”€ Auto-scaling: Enabled<br/>â”œâ”€ Spot Instances: 50% workers<br/>â””â”€ Photon: Enabled"]
                
                AZURE_SYNAPSE["ğŸ¢ Azure Synapse Analytics<br/>â”œâ”€ SQL Pool: DW500c<br/>â”œâ”€ Spark Pool: 3-10 nodes<br/>â”œâ”€ Data Integration: 50+ connectors<br/>â”œâ”€ Pipelines: 100+ active<br/>â”œâ”€ Monitoring: Built-in<br/>â”œâ”€ Security: Column-level<br/>â”œâ”€ Workspaces: Development + Production<br/>â”œâ”€ Git Integration: Azure DevOps<br/>â””â”€ Power BI: Native Integration<br/><br/>ğŸ”§ Performance Features:<br/>â”œâ”€ Materialized Views<br/>â”œâ”€ Result Set Caching<br/>â”œâ”€ Columnstore Indexes<br/>â”œâ”€ Workload Management<br/>â””â”€ Query Performance Insights"]
                
                COGNITIVE_SERVICES["ğŸ§  Azure Cognitive Services<br/>â”œâ”€ Text Analytics: Sentiment + Entities<br/>â”œâ”€ Language Understanding (LUIS)<br/>â”œâ”€ Computer Vision: OCR + Analysis<br/>â”œâ”€ Speech Services: STT + TTS<br/>â”œâ”€ Translator: 100+ languages<br/>â”œâ”€ Form Recognizer: Document AI<br/>â”œâ”€ Custom Vision: ML Models<br/>â”œâ”€ Content Moderator: Safety<br/>â””â”€ Anomaly Detector: Time Series<br/><br/>ğŸ”§ API Configuration:<br/>â”œâ”€ Endpoint: Multi-region<br/>â”œâ”€ Keys: Managed Identity<br/>â”œâ”€ Rate Limits: Enterprise Tier<br/>â”œâ”€ Custom Models: Domain-specific<br/>â””â”€ Compliance: SOC 2 + HIPAA"]
            end
            
            subgraph THIRD_PARTY_SERVICES["Third-party Services"]
                SPARK_EXTERNAL["âš¡ External Apache Spark<br/>â”œâ”€ Version: 3.3.x<br/>â”œâ”€ Deployment: On-premises/Cloud<br/>â”œâ”€ Integration: REST API<br/>â”œâ”€ Data Sources: HDFS + S3<br/>â”œâ”€ Processing: Batch + Streaming<br/>â”œâ”€ Monitoring: Spark History Server<br/>â”œâ”€ Security: Kerberos + TLS<br/>â””â”€ Resource Management: YARN"]
                
                EXTERNAL_APIS["ğŸŒ External APIs<br/>â”œâ”€ Regulatory APIs: SEC + GDPR<br/>â”œâ”€ Data Provider APIs: Thomson Reuters<br/>â”œâ”€ Classification APIs: Custom ML<br/>â”œâ”€ Compliance APIs: Regulatory Tech<br/>â”œâ”€ Integration: REST + GraphQL<br/>â”œâ”€ Authentication: OAuth 2.0<br/>â”œâ”€ Rate Limiting: Implemented<br/>â””â”€ Monitoring: Health Checks"]
            end
        end
    end
    
    %% ========================================================================
    %% NETWORK CONNECTIONS & DATA FLOW
    %% ========================================================================
    
    %% External User Access
    USERS -.->|"HTTPS/WSS"| AZURE_CDN
    EXTERNAL_SYSTEMS -.->|"API Calls"| APP_GATEWAY
    
    %% Traffic Flow Through Azure
    AZURE_CDN --> APP_GATEWAY
    APP_GATEWAY --> AZURE_LB
    AZURE_LB --> NGINX_INGRESS
    
    %% Ingress to Frontend
    NGINX_INGRESS --> REACT_PODS
    NGINX_INGRESS --> WEBSOCKET_PODS
    NGINX_INGRESS --> FASTAPI_PODS
    
    %% API Gateway to Racine
    FASTAPI_PODS --> ORCHESTRATION_PODS
    
    %% Racine Internal Orchestration
    ORCHESTRATION_PODS --> WORKSPACE_PODS
    ORCHESTRATION_PODS --> WORKFLOW_PODS
    ORCHESTRATION_PODS --> PIPELINE_PODS
    ORCHESTRATION_PODS --> AI_ASSISTANT_PODS
    ORCHESTRATION_PODS --> COLLABORATION_PODS
    ORCHESTRATION_PODS --> DASHBOARD_PODS
    ORCHESTRATION_PODS --> ACTIVITY_PODS
    ORCHESTRATION_PODS --> INTEGRATION_PODS
    
    %% Workspace to Core Services
    WORKSPACE_PODS --> AUTH_PODS
    WORKSPACE_PODS --> RBAC_PODS
    WORKSPACE_PODS --> DATA_SOURCE_PODS
    WORKSPACE_PODS --> SCAN_PODS
    WORKSPACE_PODS --> CLASSIFICATION_PODS
    WORKSPACE_PODS --> COMPLIANCE_PODS
    WORKSPACE_PODS --> CATALOG_PODS
    
    %% Core Services to Database
    AUTH_PODS --> POSTGRES_PRIMARY
    RBAC_PODS --> POSTGRES_PRIMARY
    DATA_SOURCE_PODS --> POSTGRES_PRIMARY
    SCAN_PODS --> POSTGRES_PRIMARY
    CLASSIFICATION_PODS --> POSTGRES_PRIMARY
    COMPLIANCE_PODS --> POSTGRES_PRIMARY
    CATALOG_PODS --> POSTGRES_PRIMARY
    
    %% Racine Services to Database
    ORCHESTRATION_PODS --> POSTGRES_PRIMARY
    WORKSPACE_PODS --> POSTGRES_PRIMARY
    WORKFLOW_PODS --> POSTGRES_PRIMARY
    PIPELINE_PODS --> POSTGRES_PRIMARY
    AI_ASSISTANT_PODS --> POSTGRES_PRIMARY
    COLLABORATION_PODS --> POSTGRES_PRIMARY
    DASHBOARD_PODS --> POSTGRES_PRIMARY
    ACTIVITY_PODS --> POSTGRES_PRIMARY
    INTEGRATION_PODS --> POSTGRES_PRIMARY
    
    %% Database Replication
    POSTGRES_PRIMARY --> POSTGRES_REPLICAS
    
    %% Cache Connections
    AUTH_PODS -.->|"Sessions"| REDIS_CLUSTER
    COLLABORATION_PODS -.->|"Real-time"| REDIS_CLUSTER
    DASHBOARD_PODS -.->|"Metrics"| REDIS_CLUSTER
    FASTAPI_PODS -.->|"Rate Limiting"| REDIS_CLUSTER
    
    %% Storage Connections
    POSTGRES_PRIMARY --> PVC_POSTGRES
    POSTGRES_REPLICAS --> PVC_POSTGRES
    REDIS_CLUSTER --> PVC_REDIS
    ACTIVITY_PODS --> PVC_LOGS
    SCAN_PODS --> PVC_TEMP
    
    %% Managed Service Connections
    SCAN_PODS -.->|"Data Files"| BLOB_STORAGE
    CATALOG_PODS -.->|"Metadata"| BLOB_STORAGE
    DATA_SOURCE_PODS -.->|"Configs"| FILE_STORAGE
    
    %% Security Connections
    AUTH_PODS -.->|"Secrets"| KEY_VAULT
    INTEGRATION_PODS -.->|"API Keys"| KEY_VAULT
    FASTAPI_PODS -.->|"Certificates"| KEY_VAULT
    
    %% External Integration Connections
    INTEGRATION_PODS --> AZURE_AD
    INTEGRATION_PODS --> AZURE_PURVIEW
    INTEGRATION_PODS --> AZURE_DATABRICKS
    INTEGRATION_PODS --> AZURE_SYNAPSE
    AI_ASSISTANT_PODS --> COGNITIVE_SERVICES
    PIPELINE_PODS --> SPARK_EXTERNAL
    COMPLIANCE_PODS --> EXTERNAL_APIS
    
    %% Monitoring Connections
    ORCHESTRATION_PODS -.->|"Metrics"| AZURE_MONITOR
    WORKFLOW_PODS -.->|"Performance"| APP_INSIGHTS
    POSTGRES_PRIMARY -.->|"DB Metrics"| LOG_ANALYTICS
    REDIS_CLUSTER -.->|"Cache Metrics"| LOG_ANALYTICS
    
    %% Container Registry
    AKS_CLUSTER -.->|"Image Pull"| ACR
    
    %% ========================================================================
    %% STYLING & VISUAL ENHANCEMENTS
    %% ========================================================================
    
    classDef internetClass fill:#e8eaf6,stroke:#3f51b5,stroke-width:3px,color:#000
    classDef trafficClass fill:#e0f2f1,stroke:#00695c,stroke-width:3px,color:#000
    classDef aksClass fill:#fff3e0,stroke:#e65100,stroke-width:4px,color:#000
    classDef frontendClass fill:#f3e5f5,stroke:#4a148c,stroke-width:3px,color:#000
    classDef racineClass fill:#fff8e1,stroke:#ff6f00,stroke-width:4px,color:#000
    classDef coreClass fill:#e8f5e8,stroke:#1b5e20,stroke-width:3px,color:#000
    classDef dataClass fill:#fce4ec,stroke:#880e4f,stroke-width:3px,color:#000
    classDef storageClass fill:#f1f8e9,stroke:#33691e,stroke-width:3px,color:#000
    classDef managedClass fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#000
    classDef externalClass fill:#fff9c4,stroke:#f57f17,stroke-width:3px,color:#000
    
    %% Apply styles
    class USERS,EXTERNAL_SYSTEMS internetClass
    class AZURE_CDN,APP_GATEWAY,AZURE_LB trafficClass
    class AKS_CONTROL,SYSTEM_POOL,APPLICATION_POOL,AI_POOL,NGINX_INGRESS aksClass
    class REACT_PODS,WEBSOCKET_PODS,FASTAPI_PODS frontendClass
    class ORCHESTRATION_PODS,WORKSPACE_PODS,WORKFLOW_PODS,PIPELINE_PODS,AI_ASSISTANT_PODS,COLLABORATION_PODS,DASHBOARD_PODS,ACTIVITY_PODS,INTEGRATION_PODS racineClass
    class AUTH_PODS,RBAC_PODS,DATA_SOURCE_PODS,SCAN_PODS,CLASSIFICATION_PODS,COMPLIANCE_PODS,CATALOG_PODS coreClass
    class POSTGRES_PRIMARY,POSTGRES_REPLICAS,REDIS_CLUSTER dataClass
    class PVC_POSTGRES,PVC_REDIS,PVC_LOGS,PVC_TEMP storageClass
    class AZURE_POSTGRES,AZURE_REDIS,BLOB_STORAGE,FILE_STORAGE,ACR,KEY_VAULT,AZURE_AD,AZURE_MONITOR,APP_INSIGHTS,LOG_ANALYTICS managedClass
    class AZURE_PURVIEW,AZURE_DATABRICKS,AZURE_SYNAPSE,COGNITIVE_SERVICES,SPARK_EXTERNAL,EXTERNAL_APIS externalClass